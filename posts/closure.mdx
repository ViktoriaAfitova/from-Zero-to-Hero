---
title: Closure
---

Лексическое окружение (lexical environment) и глобальное окружение (global environment) - это концепции, связанные с областью видимости и доступностью переменных в JS.

1. Лексическое окружение: Лексическое окружение связано с областью видимости функции и определяется местом, где функция была определена в исходном коде. Каждая функция имеет своё лексическое окружение, которое содержит ссылку на внешнее окружение (родительское окружение) и локальные переменные функции.

2. Глобальное окружение: Глобальное окружение - окружение верхнего уровня, которое существует в глобальной области видимости. Оно содержит все глобальные переменные и функции, доступные в программе. Глобальное окружение также имеет ссылку на внешнее окружение, которая обычно равна null, так как глобальное окружение не находится внутри другой функции.

3. Создание нового окружения: в JavaScript новое окружение создается при вызове функции. Каждый вызов функции создает новый экземпляр лексического окружения для этого вызова. При создании нового окружения, функция получает доступ к своим локальным переменным и параметрам, а также к переменным из внешнего окружения (родительского окружения) благодаря ссылке на него.

4. Поиск переменных в окружении: При поиске значения переменной JavaScript сначала ищет её в текущем лексическом окружении. Если переменная не найдена, поиск продолжается во внешнем окружении (родительском окружении), и так далее, пока не будет достигнуто глобальное окружение. Если переменная не найдена ни в одном из окружений, будет возвращено значение undefined.
