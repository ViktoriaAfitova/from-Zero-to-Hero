---
title: useEffect
---

**useEffect** позволяет добавлять побочные эффекты в функциональные компоненты. Он выполняется после каждого рендера компонента и используется для выполнения действий, которые должны произойти после того, как компонент отобразился на экране. useEffect часто используется для подписки на события, выполнения асинхронных операций, работы с таймерами и управления жизненным циклом компонента.

```jsx
import { useEffect, useState } from 'react';

const Timer = () => {
  const [seconds, setSeconds] = useState(0);

  useEffect(() => {
    // Код, который выполняется после каждого рендера компонента
    const interval = setInterval(() => {
      setSeconds((prevState) => prevState + 1);
    }, 1000);

    // Функция возвращаемая из useEffect - очистит таймер при размонтировании компонента
    return () => clearInterval(interval);
  }, []); // Пустой массив зависимостей - вызовется только при монтировании и размонтировании компонента

  return <div>Seconds: {seconds}</div>;
}
```

Особенность useEffect заключается в том, что он может возвращать функцию **cleanup**, которая будет вызвана перед следующим запуском эффекта или при размонтировании компонента. Это позволяет освободить ресурсы, отменить подписки или выполнить другие необходимые операции.

- При использовании пустого массива зависимостей **([])**, эффект будет выполняться только один раз после монтирования компонента и будет выполнять cleanup при размонтировании.

- При использовании не пустого массив зависимостей **[dependency]**, эффект будет выполняться после каждого рендера компонента, если значение dependency изменилось с предыдущего рендера. При следующем рендере компонента, предыдущее значение зависимости будет обновлено и снова произойдет выполнение эффекта. Когда компонент будет размонтирован или значение dependency изменится, будет вызвана функция cleanup.